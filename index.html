<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Audio Mixer</title>
    <link rel="stylesheet" href="./index.css" type="text/css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/Draggable.min.js"></script>

    <script src="index.js" defer></script>
    <style></style>
  </head>
  <body>
    <!-- Background Video -->
    <video id="bg-video" autoplay muted loop>
      <source src="./videos/OP.mp4" type="video/mp4" />
    </video>
    <div class="overlay"></div>
    <!-- B-------------------------------------------------------------------- -->
    <header>
      <h1 class="text-flicker-in-glow">Audiomixer</h1>
      <h3>The story of Adidon</h3>
    </header>

    <div class="container">
      <!-- Mixer -->
      <div class="card">
        <h2>Mixer</h2>
        <form id="mixerForm" enctype="multipart/form-data">
          <div id="a">
            <input
              type="file"
              id="speedSong"
              name="file1"
              accept="audio/*"
              required
              hidden
            />
            <button2
              type="button"
              class="upload-btn"
              onclick="document.getElementById('speedSong').click();"
            >
              <img
                src="./icon/upload-solid-full.svg"
                alt="Upload Song"
                width="28"
                height="28"
              /><span> Upload Song 1</span>
            </button2>
          </div>
          <div id="a">
            <input
              type="file"
              id="speedSong"
              name="file1"
              accept="audio/*"
              required
              hidden
            />
            <button2
              type="button"
              class="upload-btn"
              onclick="document.getElementById('speedSong').click();"
            >
              <img
                src="./icon/upload-solid-full.svg"
                alt="Upload Song"
                width="28"
                height="28"
              /><span> Upload Song 2</span>
            </button2>
          </div>

          <button type="submit">Mixer</button>
        </form>
        <audio id="mixerAudio" controls></audio>
      </div>

      <!-- AI Mixer -->
      <div class="card3">
        <h2>AI Mixer</h2>
        <form id="aiForm" enctype="multipart/form-data">
          <div id="a">
            <input
              type="file"
              id="speedSong"
              name="file1"
              accept="audio/*"
              required
              hidden
            />
            <button2
              type="button"
              class="upload-btn"
              onclick="document.getElementById('speedSong').click();"
            >
              <img
                src="./frontend/icon/upload-solid-full.svg"
                alt="Upload Song"
                width="28"
                height="28"
              /><span> Upload Song 1</span>
            </button2>
          </div>
          <div id="a">
            <input
              type="file"
              id="speedSong"
              name="file1"
              accept="audio/*"
              required
              hidden
            />
            <button2
              type="button"
              class="upload-btn"
              onclick="document.getElementById('speedSong').click();"
            >
              <img
                src="/icon/upload-solid-full.svg"
                alt="Upload Song"
                width="28"
                height="28"
              /><span> Upload Song 2</span>
            </button2>
          </div>
          <label>Prompt</label>
          <input
            type="text"
            name="prompt"
            placeholder="e.g., Make it feel like a live EDM set"
          />
          <button type="submit">AI Mix</button>
        </form>
        <audio id="aiAudio" controls></audio>
        <h4>AI Plan</h4>
        <pre id="aiPlan"></pre>
      </div>

      <!-- Loop -->
      <div class="card2">
        <h2>Loop Segment</h2>
        <form id="loopForm" enctype="multipart/form-data">
          <label>Song</label>
          <input type="file" name="file1" required />
          <label>Start (ms)</label>
          <input type="number" name="start_ms" value="0" />
          <label>End (ms)</label>
          <input type="number" name="end_ms" value="30000" />
          <label>Iterations</label>
          <input type="number" name="iterations" value="3" />
          <button type="submit">Loop</button>
        </form>
        <audio id="loopAudio" controls></audio>
      </div>

      <!-- Change Speed -->
      <div class="card">
        <h2>Change Speed</h2>
        <form id="speedForm" enctype="multipart/form-data">
          <label>Song</label>
          <input type="file" name="file1" required />

          <!-- <input type="file" name="file1" required />-->
          <label>Scroll Value</label>
          <input type="number" step="0.1" name="scroll_value" value="0.5" />
          <button type="submit">Change Speed</button>
          <div class="custom-player" data-player="speedAudio">
            <button1 type="button" class="play-pause">â–¶</button1>

            <input type="range" class="progress-bar" value="0" step="1" />

            <span class="time">0:00 </span>

            <input
              type="range"
              class="volume-bar"
              min="0"
              max="1"
              step="0.01"
              value="1"
            />
          </div>
        </form>
        <audio id="speedAudio" controls></audio>
      </div>
    </div>
    <script src="./frontend/script.js"></script>
  </body>
</html>
